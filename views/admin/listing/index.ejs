<% layout('/layouts/boilerplate') %>
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>4Fun Recharge</title>
        <link rel="stylesheet" href="/css/style.css" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

        <!-- Font Awesome CSS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

        <style>
            body {
                background-color: lemonchiffon;
            }
        </style>

    </head>

    <body>
        <div class="mainDiv">
            <div class="container-fluid">
                <div class="row">
                    <img src="/Assets/Fun.png" alt="Header Image" class="img-fluid  home-img"
                        style="width: 100% !important;">
                </div>
            </div>
        </div>

        <div class="container mt-3">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <!-- Button to open the modal -->
                    <button class="text-center nav-link btnSet w-100 rounded-4 py-3 fw-bold fs-2"
                        onclick="openRewardImageModal()">
                        Rewards
                    </button>
                </div>
                <div class="col-md-6 mb-5">
                    <a href="https://wa.me/7357614721" target="_blank"
                        class="text-center nav-link btnSet w-100 rounded-4 py-3 fw-bold fs-4">
                        <i class="fab fa-whatsapp fs-2" style="color: green !important;"></i>
                        <span class="pt-0 fw-bold fs-2">Support</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Modal for the image -->
        <div id="rewardModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeRewardImageModal()">&times;</span>
                <!-- Image inside the modal -->
                <img src="/Assets/rewards.jpeg" alt="rewards image" class="img-fluid">
            </div>
        </div>

        <!-- User Data -->
        <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1">
            <% for (let listing of allListings) { %>
                <a href="/offlinediamond/<%= listing._id %>" class="listing-link">
                    <div class="card col" style="width: 5rem;">
                        <div class="card-body">
                            <div class="card-img-overlay"></div>
                            <div class="card-text">
                                <div>
                                    <!-- Use 'fas' class for solid icons, and 'diamondColor' class for color -->
                                    <% if (listing.diamond !== undefined && listing.diamond !== null) { %>
                                        <p><b><i class="fas fa-gem diamondColor diamond-bubble"></i>
                                                <%= listing.diamond.toLocaleString("en-IN") %>
                                            </b></p>
                                    <% } else { %>
                                        <!-- Handle the case when listing.diamond is null or undefined -->
                                        <!-- You can display a default value or handle it in a way that makes sense for your application -->
                                        <p>No diamond information available</p>
                                    <% } %>
                                </div>
                                <% if (listing.price !== undefined && listing.price !== null) { %>
                                    <p class="amount">(<b>&#8377;<%= listing.price.toLocaleString("en-IN") %>)</b></p>
                                    <% } %>

                                        <% if (listing.extra !== undefined) { %>
                                            <p><b>
                                                    <h5 class="down">Extra &nbsp;<b>(<%= listing.extra %>%)</b>
                                                    </h5>
                                                </b></p>
                                            <% } %>
                            </div>
                        </div>
                    </div>
                </a>
                <% } %>
        </div>

        <script>
            // Function to open the modal and display the image
            function openRewardImageModal() {
                document.getElementById('rewardModal').style.display = 'block';
            }

            // Function to close the modal
            function closeRewardImageModal() {
                document.getElementById('rewardModal').style.display = 'none';
            }
        </script>

        <script src="public/JS/script.js"></script>
    </body>

    </html>